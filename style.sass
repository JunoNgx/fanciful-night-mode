$trans-time: 1s
$trans-mode: ease-in-out

@mixin circle($size)
    width: $size
    height: $size
    border-radius: 50%
    
body
    background-color: black
    margin: 0
    display: flex
    place-items: center
    min-width: 300px
    min-height: 100vh
    
.main
    position: relative
    cursor: pointer
    margin: auto auto
    width: 350px
    height: 140px
    border-radius: 75px
    border: solid grey 5px
    // overflow: hidden
    background-color: DeepSkyBlue
    transition: background-color $trans-time $trans-mode
    
    &.is-dark
        background-color: MidnightBlue

.switch
    position: absolute
    margin: 10px
    width: 120px
    height: 120px
    border-radius: 60px

    background-color: gold
    transition: margin-left $trans-time $trans-mode,  background-color $trans-time $trans-mode

    &.is-dark
        margin-left: 220px
        background-color: silver

// This is dumb and terrible
// Should use a container then transform translate the container for more simple rules
.sunlight
    // position: absolute
    // top: 20px
    // left: 20px

    // transition: top $trans-time $trans-mode, left $trans-time $trans-mode

    // &.is-dark
    //     left: 280px

    &__layer
        position: absolute
        border-radius: 50%
        background-color: white

        transition: transform $trans-time $trans-mode

        &--bottom
            @include circle(450px)
            // $size: 450px
            transform: translate(-160px, -160px)
            // width: $size
            // height: $size
            opacity: 0.1

        &--mid
            @include circle(330px)
            // $size: 330px
            transform: translate(-100px, -100px)
            // width: $size
            // height: $size
            opacity: 0.15

        &--top
            @include circle(220px)
            // $size: 220px
            transform: translate(-40px, -40px)
            // width: $size
            // height: $size
            opacity: 0.20
            
        .is-dark &
            &--bottom
                transform: translate(60px, -160px)
            &--mid
                transform: translate(125px, -100px)
            &--top
                transform: translate(175px, -40px)

.cloud-cluster
    position: absolute

    &--top
        opacity: 1
        // background-color: yellow
        // width: 100px
        // height: 100px
        transition: transform $trans-time*0.8 $trans-mode

    &--bottom
        opacity: 0.5
        transition: transform $trans-time*1.1 $trans-mode

    &.is-dark
        transform: translateY(300px)
    
    &__cloud
        position: absolute
        color: white
        background-color: white

        &--bottom
            &-1
                @include circle(250px)
                transform: translate(-5px, 40px)
            &-2
                @include circle(120px)
                transform: translate(140px, 25px)
            &-3
                @include circle(120px)
                transform: translate(210px, 35px)
            &-4
                @include circle(70px)
                transform: translate(270px, 5px)

        &--top
            &-1
                @include circle(170px)
                transform: translate(45px, 100px)
            &-2
                @include circle(80px)
                transform: translate(160px, 100px)
            &-3
                @include circle(150px)
                transform: translate(220px, 60px)
            &-4
                @include circle(100px)
                transform: translate(300px, 0px)

@mixin star($size)
    width: $size
    height: $size

@keyframes twinkle
        0%
            transform: scale(1)
        70%
            transform: scale(1)
        85%
            transform: scale(1.2)
        100%
            transform: scale(1)

.nightsky
    position: absolute

    &__star
        position: absolute
        background-color: white
        width: 30px
        height: 30px
        clip-path: polygon(50% 0, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0 50%, 40% 40%)
        top: -200px

        // Animation props
        animation-name: twinkle
        animation-direction: normal
        animation-fill-mode: none
        animation-iteration-count: infinite
        animation-timing-function: cubic-bezier(0.51,-0.46, 0.63, 1.45)
        animation-duration: 3s

        &--1
            left: 100px
            @include star(25px)
            transition: top $trans-mode $trans-time*0.8
            // animation-delay: 10s
            animation-duration: 3.5s

        &--2
            left: 20px
            @include star(13px)
            transition: top $trans-mode $trans-time*1.2
            // animation-delay: 15s
            animation-duration: 5s

        &--3
            left: 150px
            @include star(17px)
            transition: top $trans-mode $trans-time*1.1
            // animation-delay: 5s
            animation-duration: 4s
        &--4
            left: 120px
            @include star(22px)
            transition: top $trans-mode $trans-time*0.95
            // animation-delay: 7s
            animation-duration: 3.2s
        &--5
            left: 55px
            @include star(12px)
            transition: top $trans-mode $trans-time*1.05
            // animation-delay: 8s
            animation-duration: 4.7s
        &--6
            left: 200px
            @include star(8px)
            transition: top $trans-mode $trans-time*1.15
            // animation-delay: 12s
            animation-duration: 5.6s
        &--7
            left: 40px
            @include star(11px)
            transition: top $trans-mode $trans-time*0.85
            // animation-delay: 9s
            animation-duration: 6.2s

    .is-dark &__star
        &--1
            top: 80px
        &--2
            top: 40px
        &--3
            top: 65px
        &--4
            top: 5px
        &--5
            top: 120px
        &--6
            top: 100px
        &--7
            top: 0px

.bear
    position: absolute
    left: 20px
    top: 170px
    &::before
        content: "üêª"

    &.is-dark
        animation: 5s linear 2s 1 normal bear-float

@keyframes bear-float
    0%
        transform: translate(0, 0), rotation (0)
    100%
        transform: translate(240px, -200px) rotate(1800deg)
